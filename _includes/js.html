<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript">
	function checkActiveNav()
	{
		var pagename = "{{page.title}}";
		document.getElementById("contactus").classList.remove("active");
		document.getElementById("blog").classList.remove("active");
		if(pagename =="Index")
		{
			var pageUrl=window.location.pathname;
			pageUrl += window.location.hash;
			console.log(pageUrl);
			console.log("{{site.baseurl}}/#contact");
			if(pageUrl == "{{site.baseurl}}/#contact")
				document.getElementById("contactus").classList.add("active");
			else
				document.getElementById("blog").classList.add("active");

		}
		else
		if(pagename =="About")
			document.getElementById("about").classList.add("active");
		else
		if(pagename =="Partners and Associates")
			document.getElementById("partners").classList.add("active");
	};
	function gotoBlog()
	{
		window.location.hash="blog";
		window.location.pathname="{{site.baseurl}}/"
		checkActiveNav();
	}
	function gotoContact()
	{
		window.location.hash="contact";
		window.location.pathname="{{site.baseurl}}/"
		checkActiveNav();
	}
	$(document).ready(checkActiveNav);
</script>

<script type="text/javascript">

var element_position = $('#portfolio').offset().top;
var screen_height = $(window).height();
var activation_offset = 0.5;//determines how far up the the page the element needs to be before triggering the function
var activation_point = element_position - (screen_height * activation_offset);
var max_scroll_height = $('body').height() - screen_height - 5;//-5 for a little bit of buffer

//Does something when user scrolls to it OR
//Does it when user has reached the bottom of the page and hasn't triggered the function yet
$(window).on('scroll', function() {
    var y_scroll_pos = window.pageYOffset;

    var element_in_view = y_scroll_pos > activation_point;
    var has_reached_bottom_of_page = max_scroll_height <= y_scroll_pos && !element_in_view;

    if(element_in_view || has_reached_bottom_of_page) {
			$('.numeric').each(function() {
				var $this = $(this),
						countTo = $this.attr('count');

				$({ countNum: $this.text()}).animate({
					countNum: countTo
				},
				{
					duration: 1000,
					easing:'linear',
					step: function() {
						$this.text(Math.floor(this.countNum));
					},
					complete: function() {
						$this.text(this.countNum);
						//alert('finished');
					}
				});
			});
    }
});

</script>
